<head>
  <title>meteor_Sandbox_WebAudioAPI</title>
  <!-- <script src="/lib/js/binaural.js"></script> -->
  <script src="https://aframe.io/releases/0.2.0/aframe.min.js"></script>
  <script src="https:ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
  <script src="https://sandbox.donmccurdy.com/vr/aframe-extras.js"></script>
  <!-- <script src="./universal-controls.js"></script> -->
  <script src="./hrtf.js"></script>  
  <script src="./WebAudio_FOA.js"></script> 
  <script src="http://cdn.peerjs.com/0.3/peer.js"></script>
  <!-- <script src="dist/aframe-no-click-look-controls.min.js"></script> -->
</head>
<body>
<!-- 	<audio id="source" 
		   src="http://localhost:3000/04_Rhodes.wav" 
		   controls 
		   autoplay 
		   loop>		   
	</audio> -->
	<a-scene 
	  camera 
	  physics 
	  proxy-controls="enabled: true;
					  debug: true;
					  pairCode: 'poetic';
					  enableOverlay: true;">
			<a-assets>			  
			 <a-mixin 
				id="laser"
				kinematic-body
            	geometry="primitive: box; 
            			  depth: 4; 
            			  height: .1; 
            			  width: 4;"
				material="color: green; 
						  metalness: 0.2; 
						  opacity: 0.4; 
						  roughness: 0.3"
			    rotation="0 0 0"
				projectile="speed: -0.5"
				collider="target: .stick">
			</a-mixin>
		   </a-assets>
   		<a-box 
   		  id="iceberg"
	   	  class=".stick"
   		  static-body 
   		  color="#CBF" 
   		  width="4" 
   		  height="10" 
   		  depth="2"
          position="10 1 10" 
          rotation="45 45 45" 
          scale="2 0.5 3">          
           <a-animation attribute="opacity" begin="collider-hit" dur="400" ease="linear"
                        from="1" to="0.5"></a-animation>
           <a-animation attribute="scale" begin="collider-hit" dur="400" ease="linear"
                        to="5 5 5"></a-animation>
        </a-box>
        
        <a-box 
   		  id="y" 
   		  color="#704" 
   		  width="1" 
   		  height=".0001" 
   		  depth="100"
          position="0 1 0" 
          rotation="0 0 0" 
          scale="1 1 1">
        </a-box>
        <a-box 
   		  id="x" 
   		  color="#2CA" 
   		  width="100" 
   		  height=".0001" 
   		  depth="1"
          position="0 1 0" 
          rotation="0 0 0" 
          scale="1 1 1">
        </a-box>
  		<!-- ground -->
  		<a-entity 
  			static-body
	  		class="stick" 
  			geometry="primitive: box; 
  					  depth:100; 
  					  height:1; 
  					  width:100;" 
  			material="side: double; 
  					  color: blue; 
  					  repeat: 100000000 1000000;">
  		</a-entity>
  		<a-entity
  			id="mainCamera" 
  			camera 
	  		spawner="mixin: laser; on: click" 
		  	click-listener
	  		cursor
  			universal-controls
  			keyboard-controls
  			gamepad-controls 
  			kinematic-body 
  			jump-ability="enableDoubleJump: true; 
  						  distance: 10;" 
		    position="0 1 0">
			    
			    
			<a-entity 
				id="ray"
				ray 
				cursor="fuse: true; maxDistance: 30; timeout: 500"
            	position="0 0 -10"
				geometry="primitive: ring"
				material="color: red; shader: flat">
  </a-entity>
			    
			    
  		</a-entity>
	</a-scene>
{{> peer}}

</body>
<template name="peer">
</template>

